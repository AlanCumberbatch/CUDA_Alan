## 变量的生命周期

在C++中，变量的声明周期指的是变量在程序中存在的时间段，也就是变量从创建到销毁的时间段。变量的生命周期受到其定义位置和作用域的影响。以下是C++中变量的声明周期的基本原则：

1. **自动变量（局部变量）：** 自动变量是在函数内部或代码块内部声明的变量，其生命周期与包含它们的函数或代码块的执行周期相同。它们在进入作用域时创建，退出作用域时销毁。

   ```cpp
   void someFunction() {
       int x = 10; // x 是自动变量，在函数 someFunction 内部创建和销毁
   } // x 在这里销毁
   ```

2. **静态变量：** 静态变量是在函数内或代码块内声明的，但使用 `static` 关键字修饰的变量。它们在程序生命周期内存在，只初始化一次，通常在首次访问时初始化。它们在程序启动时创建，在程序结束时销毁。

   ```cpp
   void someFunction() {
       static int y = 5; // y 是静态变量，只初始化一次，程序生命周期内存在
   }
   ```

3. **全局变量：** 全局变量是在所有函数之外声明的变量，它们在整个程序的执行过程中都是可见的。它们在程序启动时创建，在程序结束时销毁。

   ```cpp
   int globalVar = 20; // globalVar 是全局变量，程序生命周期内存在
   ```

4. **动态分配的变量（堆变量）：** 使用 `new` 运算符分配的内存中的变量，其生命周期取决于程序员显式调用 `delete` 来释放内存。这些变量的生命周期可以跨越多个函数调用。

   ```cpp
   int *dynamicVar = new int; // 动态分配的变量，需要显式释放内存
   delete dynamicVar; // 释放内存
   ```

需要注意的是，变量的生命周期与其作用域（可见性）紧密相关。变量在其作用域内可见，并且只有在其作用域内才能被访问。当变量超出作用域时，它们就会被销毁（自动变量）或保持不变（静态变量和全局变量）。动态分配的变量的生命周期取决于程序员显式释放内存。

理解变量的生命周期对于避免内存泄漏和正确管理资源非常重要。

[回到C++ Basic](./README.md)

## 程序启动？程序结束？
## 静态变量和全局变量的区别